<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <script type="text/javascript">
        	// Gets the value of a Query parameter with the given Name on the given URL.
        	var getParameterByName = function(name, url) {
			    if (!url) url = window.location.href;
			    name = name.replace(/[\[\]]/g, "\\$&");
			    var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
			        results = regex.exec(url);
			    if (!results) return null;
			    if (!results[2]) return '';
			    return decodeURIComponent(results[2].replace(/\+/g, " "));
			}

			var category_id_table = {
				        "Rewards/Cashback": 0,
				        "Rewards/Travel & Airline": 1,
				        "Rewards/Gas Rewards": 2,
				        "Rewards/All": 3,
				        "Cashback/Cashback": 4,
				        "Cashback/No Annual Fee": 5,
				        "Cashback/SignUp Bonus": 6,
				        "Cashback/All": 7,
						"Low Interest/Low Interest": 8,
						"Low Interest/0% APR": 9,
						"Low Interest/Balance Transfer": 10,
						"Low Interest/All": 11,
						"Limited Credit/Bad Credit": 12,
						"Limited Credit/Limited Credit": 13,
						"Limited Credit/Prepaid Cards": 14,
						"Limited Credit/All": 15
			};

			var category = getParameterByName("general_category", window.location.href);
			var cc_type = getParameterByName("cc_type", window.location.href);

			var category_uri = (category && cc_type) ? category_id_table[category + "/" + cc_type] : null;

			// Gets the second path object if present.
			// Examples:
			// "/foo/bar"	-> "bar"
			// "/foo"		-> null
			var path_objs = window.location.pathname.substring(1).split("/");
			var not_uri = (path_objs && path_objs[0] && "credit-card" == path_objs[0]) ? path_objs[1] : null;

            
            var callback = function(err, data) {
                console.log("category_uri: " + category_uri);
                console.log("not_uri: " + not_uri);
            };

            (function(b,r,a,n,c,h,_,s,d,k){if(!b[n]||!b[n]._q){for(;s<_.length;)c(h,_[s++]);d=r.createElement(a);d.async=1;d.src="https://cdn.branch.io/branch-latest.min.js";k=r.getElementsByTagName(a)[0];k.parentNode.insertBefore(d,k);b[n]=h}})(window,document,"script","branch",function(b,r){b[r]=function(){b._q.push([r,arguments])}},{_q:[],_v:1},"addListener applyCode banner closeBanner creditHistory credits data deepview deepviewCta first getCode init link logout redeem referrals removeListener sendSMS setIdentity track validateCode".split(" "), 0);

            // Silver Credit Live Key
            branch.init('key_live_fdc2DCjuvKAxCXNmE4Ipxcdnxvhi9lOD', callback);

            branch.data(function(err, data) {
                console.log(data);
            });

            branch.banner({
                icon: 'http://www.silvermoneyservices.com/wp-content/uploads/2016/04/new-logo.png',
                title: 'Get The App',
                description: 'See this content immediatly after install',
                openAppButtonText: 'Open',              // Text to show on button if the user has the app installed
                downloadAppButtonText: 'Download',      // Text to show on button if the user does not have the app installed
                sendLinkText: 'Send Link',              // Text to show on desktop button to allow users to text themselves the app
                phonePreviewText: '+44 9999-9999',      // The default phone placeholder is a US format number, localize the placeholder number with a custom placeholder with this option
                showiOS: true,                          // Should the banner be shown on iOS devices?
                showAndroid: true,                      // Should the banner be shown on Android devices?
                showDesktop: true,                      // Should the banner be shown on desktop devices?
                iframe: true,                           // Show banner in an iframe, recomended to isolate Branch banner CSS
                disableHide: false,                     // Should the user have the ability to hide the banner? (show's X on left side)
                forgetHide: false,                      // Should we show the banner after the user closes it? Can be set to true, or an integer to show again after X days
                position: 'top',                        // Sets the position of the banner, options are: 'top' or 'bottom', and the default is 'top'
                mobileSticky: false,                    // Determines whether the mobile banner will be set `position: fixed;` (sticky) or `position: absolute;`, defaults to false *this property only applies when the banner position is 'top'
                desktopSticky: true,                    // Determines whether the desktop banner will be set `position: fixed;` (sticky) or `position: absolute;`, defaults to true *this property only applies when the banner position is 'top'
                //customCSS: '.title { color: #F00; }',   // Add your own custom styles to the banner that load last, and are gauranteed to take precedence, even if you leave the banner in an iframe
                make_new_link: false,                   // Should the banner create a new link, even if a link already exists?
                rating: 4,                              // Number of stars (should be your store rating)
                reviewCount: 17,                      // Number of reviews that generate the rating (should be your store reviews)
                theme: 'light',                         // Uses Branch's predetermined color scheme for the banner { 'light' || 'dark' }, default: 'light'
            },
            // Here is where you define the deep link that you'd like to use
            { 
                data: {
	                // If this OG data is not unique to this page, you can omit them if you've set the default OG data on your Link Setting page.
	                '$og_title': 'Silver credit',
	                '$og_description': 'Silver credit',
	                '$og_image_url': 'http://www.silvermoneyservices.com/wp-content/uploads/2016/04/new-logo.png',

	                'category_uri': category_uri,
	                'not_uri': not_uri
                }
            });


        </script>
    </head>
</html>